<% action = action_type == :new ? goals_url : goal_url(goal) %>
<% button_text = action_type == :new ? "Add Goal" : "Edit Goal" %>

<form action="<%= action %>" method="post">
  <%= auth_token %>
  <% if action_type == :edit %>
    <input type="hidden" name="_method" value="PATCH">
  <% end %>
  <label for="title">Title</label>
  <input type="text" id="title" name="goal[title]" value="<%= goal.title %>">
  <br>
  <label for="details">Details</label>
  <textarea name="goal[details]" id="details"><%= goal.details %></textarea>
  <br>
  <label for="public">Public</label>
  <input type="radio" id="Public" name="goal[private]" value="false" <%= goal.private ? "" : "checked" %>>
  <label for="private">Private</label>
  <input type="radio" id="private" name="goal[private]" value="true" <%= goal.private ? "checked" : "" %>>
  <br>
  <label for="completed">Completed</label>
  <input type="checkbox" id="completed" name="goal[completed]" value="true" <%= goal.completed ? "checked" : "" %>>
  <br>
  <input type="submit" value="<%= button_text %>">
</form>
